params {
  pytorch = false
  tensorflow = false
  xgboost = false


  // GENERAL
  seed = 0

  // PYTORCH
  epochs = 10
}

env {
  PYTHONNOUSERSITE = 1
}

process {
  container = 'ml/pytorch:dev'

  withLabel: with_cpus {
        cpus = 1
        memory = '7G'
  }
  
  withLabel: with_gpus {
       maxForks = 1
       containerOptions = {
          workflow.containerEngine == "singularity" ? '--nv':
              ( workflow.containerEngine == "docker" ? '-u $(id -u):$(id -g) --gpus all': null ) } 
  } 
}
